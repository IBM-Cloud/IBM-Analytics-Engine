

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>tspy.data_structures.time_series.TimeSeries module &mdash; TSPy alpha documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/js/custom.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="tspy.data_structures.transforms package" href="tspy.data_structures.transforms.html" />
    <link rel="prev" title="tspy.data_structures.time_series.SegmentTimeSeries module" href="tspy.data_structures.time_series.SegmentTimeSeries.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> TSPy
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">Library Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto.html">How to …</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto.html#how-to-two-ts">How to (two TS) …</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto.html#how-to-forecasting">How to forecasting …</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="tspy.html">tspy package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="tspy.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="tspy.data_structures.html">tspy.data_structures package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="tspy.data_structures.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="tspy.data_structures.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tspy.functions.html">tspy.functions package</a></li>
<li class="toctree-l3"><a class="reference internal" href="tspy.ml.html">tspy.ml package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tspy.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TSPy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="tspy.html">tspy package</a> &raquo;</li>
        
          <li><a href="tspy.data_structures.html">tspy.data_structures package</a> &raquo;</li>
        
          <li><a href="tspy.data_structures.time_series.html">tspy.data_structures.time_series package</a> &raquo;</li>
        
      <li>tspy.data_structures.time_series.TimeSeries module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/tspy.data_structures.time_series.TimeSeries.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-tspy.data_structures.time_series.TimeSeries">
<span id="tspy-data-structures-time-series-timeseries-module"></span><h1>tspy.data_structures.time_series.TimeSeries module<a class="headerlink" href="#module-tspy.data_structures.time_series.TimeSeries" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries">
<em class="property">class </em><code class="sig-prename descclassname">tspy.data_structures.time_series.TimeSeries.</code><code class="sig-name descname">TimeSeries</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tsc</span></em>, <em class="sig-param"><span class="n">j_ts</span></em>, <em class="sig-param"><span class="n">trs</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is the abstract portrayal of lazily evaluated immutable TimeSeries.
By lazy, we mean that this time series will only get values when explicitly asked for.
By immutable, we mean this time series’ observations may never be directly mutated.</p>
<p>A TimeSeries object can either be physical(having a source) or it can be from
some other TimeSeries. One can think of TimeSeries as a series where each value is an
Observation in the series. TimeSeries objects have the property where, values are computed lazily
meaning, execution of a TimeSeries pipeline only continues, when one asks for values</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If there is an error in the input arguments</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create a time series from a list</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="go">TimeStamp: 0     Value: 1</span>
<span class="go">TimeStamp: 1     Value: 2</span>
<span class="go">TimeStamp: 2     Value: 3</span>
</pre></div>
</div>
<p>create a time series from a list with a time-reference-system</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">granularity</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">start_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1990</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">granularity</span><span class="o">=</span><span class="n">granularity</span><span class="p">,</span> <span class="n">start_time</span><span class="o">=</span><span class="n">start_time</span><span class="p">)</span>
<span class="go">TimeStamp: 1990-01-01T00:00Z     Value: 1</span>
<span class="go">TimeStamp: 1990-01-02T00:00Z     Value: 2</span>
<span class="go">TimeStamp: 1990-01-03T00:00Z     Value: 3</span>
</pre></div>
</div>
<p>create a time series from a pandas dataframe</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">header</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="s1">&#39;timestamp&#39;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">row1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Row1&#39;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;josh&quot;</span><span class="p">,</span> <span class="mi">27</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">row2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Row2&#39;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;john&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">row3</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Row3&#39;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;bob&quot;</span><span class="p">,</span> <span class="mi">17</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">header</span><span class="p">,</span> <span class="n">row1</span><span class="p">,</span> <span class="n">row2</span><span class="p">,</span> <span class="n">row3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">:,</span> <span class="mi">1</span><span class="p">:],</span> <span class="n">index</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">:])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">ts_column</span><span class="o">=</span><span class="s2">&quot;timestamp&quot;</span><span class="p">)</span>
<span class="go">TimeStamp: 1     Value: {name=josh, age=27, key=a}</span>
<span class="go">TimeStamp: 3     Value: {name=john, age=4, key=b}</span>
<span class="go">TimeStamp: 5     Value: {name=bob, age=17, key=a}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>trs: :class:`~tspy.data_structures.observations.TRS.TRS`</strong></dt><dd><p>a time-reference-system</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.cache" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.cache"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cache</span></code></a>([cache_size])</p></td>
<td><p>suggest to the time-series to cache values</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.collect" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.collect"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collect</span></code></a>([inclusive])</p></td>
<td><p>collect all observations in this time-series</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.concat" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.concat"><code class="xref py py-obj docutils literal notranslate"><span class="pre">concat</span></code></a>(other_time_series)</p></td>
<td><p>produce a new time-series which is the result of concatenating two time-series</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.count" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.count"><code class="xref py py-obj docutils literal notranslate"><span class="pre">count</span></code></a>([inclusive])</p></td>
<td><p>count the current number of observations in this time-series</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.describe" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.describe"><code class="xref py py-obj docutils literal notranslate"><span class="pre">describe</span></code></a>()</p></td>
<td><p>retrieve time-series statistics computed from all values in this time-series</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.fillna" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.fillna"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fillna</span></code></a>(interpolator[, null_value])</p></td>
<td><p>produce a new time-series which is the result of filling all null values.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.filter" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.filter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">filter</span></code></a>(func)</p></td>
<td><p>produce a new time-series which is the result of filtering by each observation’s value given a filter function.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.flatmap" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.flatmap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flatmap</span></code></a>(func)</p></td>
<td><p>produce a new time-series where each observation’s value in this time-series is mapped to 0 to N new values.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.forecast" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>(num_predictions, fm[, …])</p></td>
<td><p>forecast the next num_predictions using a forecasting model</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.full_align" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.full_align"><code class="xref py py-obj docutils literal notranslate"><span class="pre">full_align</span></code></a>(time_series[, left_interp_func, …])</p></td>
<td><p>align two time-series based on a temporal full join strategy and optionally interpolate missing values</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.full_join" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.full_join"><code class="xref py py-obj docutils literal notranslate"><span class="pre">full_join</span></code></a>(time_series[, join_func, …])</p></td>
<td><p>join two time-series based on a temporal full join strategy and optionally interpolate missing values</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.get_values" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.get_values"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_values</span></code></a>(start, end[, inclusive])</p></td>
<td><p>get all values between a range in this time-series</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.inner_align" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.inner_align"><code class="xref py py-obj docutils literal notranslate"><span class="pre">inner_align</span></code></a>(time_series)</p></td>
<td><p>align two time-series based on a temporal inner join strategy</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.inner_join" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.inner_join"><code class="xref py py-obj docutils literal notranslate"><span class="pre">inner_join</span></code></a>(time_series[, join_func])</p></td>
<td><p>join two time-series based on a temporal inner join strategy</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.lag" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.lag"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lag</span></code></a>(lag_amount)</p></td>
<td><p>produce a new time-series which is a lagged version of the current time-series.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.left_align" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.left_align"><code class="xref py py-obj docutils literal notranslate"><span class="pre">left_align</span></code></a>(time_series[, interp_func])</p></td>
<td><p>align two time-series based on a temporal left join strategy and optionally interpolate missing values</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.left_join" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.left_join"><code class="xref py py-obj docutils literal notranslate"><span class="pre">left_join</span></code></a>(time_series[, join_func, interp_func])</p></td>
<td><p>join two time-series based on a temporal left join strategy and optionally interpolate missing values</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.left_outer_align" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.left_outer_align"><code class="xref py py-obj docutils literal notranslate"><span class="pre">left_outer_align</span></code></a>(time_series[, interp_func])</p></td>
<td><p>align two time-series based on a temporal left outer join strategy and optionally interpolate missing values</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.left_outer_join" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.left_outer_join"><code class="xref py py-obj docutils literal notranslate"><span class="pre">left_outer_join</span></code></a>(time_series[, join_func, …])</p></td>
<td><p>join two time-series based on a temporal left outer join strategy and optionally interpolate missing values</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.map" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">map</span></code></a>(func)</p></td>
<td><p>produce a new time-series where each observation’s value in this time-series is mapped to a new observation value</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.map_with_index" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.map_with_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">map_with_index</span></code></a>(func)</p></td>
<td><p>produce a new time-series where each observation’s value in this time-series is mapped given the old value and an index to a new observation value</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.print" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.print"><code class="xref py py-obj docutils literal notranslate"><span class="pre">print</span></code></a>([start, end, inclusive, human_readable])</p></td>
<td><p>print this time-series</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.reduce" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.reduce"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reduce</span></code></a>(*args)</p></td>
<td><p>reduce this time-series or two time-series to a single value</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.resample" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.resample"><code class="xref py py-obj docutils literal notranslate"><span class="pre">resample</span></code></a>(period, func)</p></td>
<td><p>produce a new time-series by resampling the current time-series to a given periodicity</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.right_align" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.right_align"><code class="xref py py-obj docutils literal notranslate"><span class="pre">right_align</span></code></a>(time_series[, interp_func])</p></td>
<td><p>align two time-series based on a temporal right join strategy and optionally interpolate missing values</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.right_join" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.right_join"><code class="xref py py-obj docutils literal notranslate"><span class="pre">right_join</span></code></a>(time_series[, join_func, interp_func])</p></td>
<td><p>join two time-series based on a temporal right join strategy and optionally interpolate missing values</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.right_outer_align" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.right_outer_align"><code class="xref py py-obj docutils literal notranslate"><span class="pre">right_outer_align</span></code></a>(time_series[, interp_func])</p></td>
<td><p>align two time-series based on a temporal right outer join strategy and optionally interpolate missing values</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.right_outer_join" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.right_outer_join"><code class="xref py py-obj docutils literal notranslate"><span class="pre">right_outer_join</span></code></a>(time_series[, join_func, …])</p></td>
<td><p>join two time-series based on a temporal right outer join strategy and optionally interpolate missing values</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.segment" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.segment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">segment</span></code></a>(window[, step, enforce_size])</p></td>
<td><p>produce a new segment-time-series from a performing a sliding-based segmentation over the time-series</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.segment_by" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.segment_by"><code class="xref py py-obj docutils literal notranslate"><span class="pre">segment_by</span></code></a>(func)</p></td>
<td><p>produce a new segment-time-series from a performing a group-by operation on each observation’s value</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.segment_by_anchor" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.segment_by_anchor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">segment_by_anchor</span></code></a>(func, left_delta, right_delta)</p></td>
<td><p>produce a new segment-time-series from performing an anchor-based segmentation over the time-series.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.segment_by_changepoint" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.segment_by_changepoint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">segment_by_changepoint</span></code></a>([change_point])</p></td>
<td><p>produce a new segment-time-series from performing a chang-point based segmentation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.segment_by_marker" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.segment_by_marker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">segment_by_marker</span></code></a>(*args, **kwargs)</p></td>
<td><p>produce a new segment-time-series from performing a marker based segmentation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.segment_by_time" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.segment_by_time"><code class="xref py py-obj docutils literal notranslate"><span class="pre">segment_by_time</span></code></a>(window, step)</p></td>
<td><p>produce a new segment-time-series from a performing a time-based segmentation over the time-series</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.shift" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.shift"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shift</span></code></a>(shift_amount[, default_value])</p></td>
<td><p>produce a new time-series which is a shifted version of the current time-series.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.to_df" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.to_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_df</span></code></a>([inclusive])</p></td>
<td><p>convert this time-series to a pandas dataframe</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.to_segments" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.to_segments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_segments</span></code></a>(segment_transform)</p></td>
<td><p>produce a new segment-time-series from a segmentation transform</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.transform" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.transform"><code class="xref py py-obj docutils literal notranslate"><span class="pre">transform</span></code></a>(*args)</p></td>
<td><p>produce a new time-series which is the result of performing a transforming over the time-series.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.uncache" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.uncache"><code class="xref py py-obj docutils literal notranslate"><span class="pre">uncache</span></code></a>()</p></td>
<td><p>remove the time-series caching mechanism</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.with_trs" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.with_trs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">with_trs</span></code></a>([granularity, start_time])</p></td>
<td><p>create a new time-series with its timestamps mapped based on a granularity and start_time.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.write" title="tspy.data_structures.time_series.TimeSeries.TimeSeries.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a>([start, end, inclusive])</p></td>
<td><p>create a time-series-writer given a range</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.cache">
<code class="sig-name descname">cache</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cache_size</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.cache" title="Permalink to this definition">¶</a></dt>
<dd><p>suggest to the time-series to cache values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>cache_size</strong><span class="classifier">int, optional</span></dt><dd><p>the max cache size (default is max long)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></dt><dd><p>a new time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>this is a lazy operation and will only suggest to the time-series to save values once computed</p>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.collect">
<code class="sig-name descname">collect</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inclusive</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>collect all observations in this time-series</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>inclusive</strong><span class="classifier">bool, optional</span></dt><dd><p>if true, will use inclusive bounds (default is False)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="tspy.data_structures.observations.ObservationCollection.html#tspy.data_structures.observations.ObservationCollection.ObservationCollection" title="tspy.data_structures.observations.ObservationCollection.ObservationCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObservationCollection</span></code></a></dt><dd><p>a collection of observations</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>TSErrorWithMessage</dt><dd><p>If there is an error with TimeSeries handling</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span>
<span class="go">TimeStamp: 0     Value: 1</span>
<span class="go">TimeStamp: 1     Value: 2</span>
<span class="go">TimeStamp: 2     Value: 3</span>
</pre></div>
</div>
<p>collect the values</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts_org</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
<span class="go">[(0,1.0),(1,2.0),(2,3.0)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.concat">
<code class="sig-name descname">concat</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other_time_series</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.concat" title="Permalink to this definition">¶</a></dt>
<dd><p>produce a new time-series which is the result of concatenating two time-series</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>other_time_series</strong><span class="classifier"><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></span></dt><dd><p>the time-series to concatenate with</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></dt><dd><p>a new TimeSeries</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create two simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mf">2.0</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span>
<span class="go">TimeStamp: 1     Value: 1.0</span>
<span class="go">TimeStamp: 2     Value: 2.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig2</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mf">3.0</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mf">4.0</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig2</span>
<span class="go">TimeStamp: 3     Value: 3.0</span>
<span class="go">TimeStamp: 4     Value: 4.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts_concat</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">ts_orig2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_concat</span>
<span class="go">TimeStamp: 1     Value: 1.0</span>
<span class="go">TimeStamp: 2     Value: 2.0</span>
<span class="go">TimeStamp: 3     Value: 3.0</span>
<span class="go">TimeStamp: 4     Value: 4.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.count">
<code class="sig-name descname">count</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inclusive</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.count" title="Permalink to this definition">¶</a></dt>
<dd><p>count the current number of observations in this time-series</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>inclusive</strong><span class="classifier">bool, optional</span></dt><dd><p>if true, will use inclusive bounds (default is False)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>int</dt><dd><p>the number of observations in this time-series</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.describe">
<code class="sig-name descname">describe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.describe" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieve time-series statistics computed from all values in this time-series</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference internal" href="tspy.data_structures.Stats.html#tspy.data_structures.Stats.Stats" title="tspy.data_structures.Stats.Stats"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a> or <a class="reference internal" href="tspy.data_structures.NumStats.html#tspy.data_structures.NumStats.NumStats" title="tspy.data_structures.NumStats.NumStats"><code class="xref py py-class docutils literal notranslate"><span class="pre">NumStats</span></code></a></dt><dd><p>the basic statistics for this time-series or additional numeric statistics if float</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.fillna">
<code class="sig-name descname">fillna</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">interpolator</span></em>, <em class="sig-param"><span class="n">null_value</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.fillna" title="Permalink to this definition">¶</a></dt>
<dd><p>produce a new time-series which is the result of filling all null values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>interpolator</strong><span class="classifier">func or interpolator</span></dt><dd><p>the interpolator method to be used when a value is null</p>
</dd>
<dt><strong>null_value</strong><span class="classifier">any, optional</span></dt><dd><p>denotes a null value, for instance if nullValue = NaN, NaN would be filled</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></dt><dd><p>a new time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span>
<span class="go">TimeStamp: 0     Value: 1</span>
<span class="go">TimeStamp: 1     Value: null</span>
<span class="go">TimeStamp: 2     Value: 3</span>
</pre></div>
</div>
<p>fill all Nones with another value using a simple fill interpolator</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tspy.functions</span> <span class="kn">import</span> <span class="n">interpolators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">interpolators</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 0     Value: 1</span>
<span class="go">TimeStamp: 1     Value: 2</span>
<span class="go">TimeStamp: 2     Value: 3</span>
</pre></div>
</div>
<p>fill all 1s with another value using a simple next interpolator.
Note: fillna will never choose None values from an interpolator unless explicitly specified</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tspy.functions</span> <span class="kn">import</span> <span class="n">interpolators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">interpolators</span><span class="o">.</span><span class="n">next</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 0     Value: 3</span>
<span class="go">TimeStamp: 1     Value: null</span>
<span class="go">TimeStamp: 2     Value: 3</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.filter">
<code class="sig-name descname">filter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>produce a new time-series which is the result of filtering by each observation’s value given a filter
function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>func</strong><span class="classifier">func</span></dt><dd><p>the filter on observation’s value function</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></dt><dd><p>a new time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span>
<span class="go">TimeStamp: 0     Value: 1</span>
<span class="go">TimeStamp: 1     Value: 2</span>
<span class="go">TimeStamp: 2     Value: 3</span>
</pre></div>
</div>
<p>filter the time-series for even numbers</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 1     Value: 2</span>
</pre></div>
</div>
<p>filter the time-series for even numbers using high performant expressions</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tspy.functions</span> <span class="kn">import</span> <span class="n">expressions</span> <span class="k">as</span> <span class="n">exp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">exp</span><span class="o">.</span><span class="n">divisible_by</span><span class="p">(</span><span class="n">exp</span><span class="o">.</span><span class="n">id</span><span class="p">(),</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 1     Value: 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.flatmap">
<code class="sig-name descname">flatmap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.flatmap" title="Permalink to this definition">¶</a></dt>
<dd><p>produce a new time-series where each observation’s value in this time-series is mapped to 0 to N new values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>func</strong><span class="classifier">func</span></dt><dd><p>value mapping function which returns a list of values</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></dt><dd><p>a new time-series with its values flat-mapped</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>an observations time-tick will be duplicated if a single value maps to multiple values</p>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span>
<span class="go">TimeStamp: 0     Value: 1</span>
<span class="go">TimeStamp: 1     Value: 2</span>
<span class="go">TimeStamp: 2     Value: 3</span>
</pre></div>
</div>
<p>flat map each time-series observation value by duplicating the value</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">flatmap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 0     Value: 1</span>
<span class="go">TimeStamp: 0     Value: 1</span>
<span class="go">TimeStamp: 1     Value: 2</span>
<span class="go">TimeStamp: 1     Value: 2</span>
<span class="go">TimeStamp: 2     Value: 3</span>
<span class="go">TimeStamp: 2     Value: 3</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.forecast">
<code class="sig-name descname">forecast</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_predictions</span></em>, <em class="sig-param"><span class="n">fm</span></em>, <em class="sig-param"><span class="n">start_training_time</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">confidence</span><span class="o">=</span><span class="default_value">1.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.forecast" title="Permalink to this definition">¶</a></dt>
<dd><p>forecast the next num_predictions using a forecasting model</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>num_predictions</strong><span class="classifier">int</span></dt><dd><p>number of forecasts past the end of the time-series to retrieve</p>
</dd>
<dt><strong>fm</strong><span class="classifier"><a class="reference internal" href="tspy.data_structures.forecasting.ForecastingModel.html#tspy.data_structures.forecasting.ForecastingModel.ForecastingModel" title="tspy.data_structures.forecasting.ForecastingModel.ForecastingModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastingModel</span></code></a></span></dt><dd><p>the forecasting model to use</p>
</dd>
<dt><strong>start_training_time</strong><span class="classifier">int or datetime, optional</span></dt><dd><p>point at which to start training the forecasting model</p>
</dd>
<dt><strong>confidence</strong><span class="classifier">float</span></dt><dd><p>number between 0 and 1 which is used in calculating the confidence interval</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="tspy.data_structures.observations.ObservationCollection.html#tspy.data_structures.observations.ObservationCollection.ObservationCollection" title="tspy.data_structures.observations.ObservationCollection.ObservationCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObservationCollection</span></code></a></dt><dd><p>a collection of observations</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>TSErrorWithMessage</dt><dd><p>If there is an error with TimeSeries handling</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 0     Value: 0.0</span>
<span class="go">TimeStamp: 1     Value: 1.0</span>
<span class="go">TimeStamp: 2     Value: 2.0</span>
<span class="go">TimeStamp: 3     Value: 3.0</span>
<span class="go">TimeStamp: 4     Value: 4.0</span>
<span class="go">TimeStamp: 5     Value: 5.0</span>
<span class="go">TimeStamp: 6     Value: 6.0</span>
<span class="go">TimeStamp: 7     Value: 7.0</span>
<span class="go">TimeStamp: 8     Value: 8.0</span>
<span class="go">TimeStamp: 9     Value: 9.0</span>
</pre></div>
</div>
<p>forecast the next 5 values using an auto forecastor</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">num_predictions</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">forecasters</span><span class="o">.</span><span class="n">auto</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">confidence</span> <span class="o">=</span> <span class="o">.</span><span class="mi">99</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">predictions</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="n">num_predictions</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">confidence</span><span class="o">=</span><span class="n">confidence</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">predictions</span><span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="go">TimeStamp: 10     Value: {value=10.0, lower_bound=10.0, upper_bound=10.0, error=0.0}</span>
<span class="go">TimeStamp: 11     Value: {value=10.997862810553725, lower_bound=9.934621260488143, upper_bound=12.061104360619307, error=0.41277640121597475}</span>
<span class="go">TimeStamp: 12     Value: {value=11.996821082897318, lower_bound=10.704895525154571, upper_bound=13.288746640640065, error=0.5015571318964149}</span>
<span class="go">TimeStamp: 13     Value: {value=12.995779355240911, lower_bound=11.50957896664928, upper_bound=14.481979743832543, error=0.5769793776877866}</span>
<span class="go">TimeStamp: 14     Value: {value=13.994737627584504, lower_bound=12.33653268707341, upper_bound=15.652942568095598, error=0.6437557559526337}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.full_align">
<code class="sig-name descname">full_align</code><span class="sig-paren">(</span><em class="sig-param">time_series</em>, <em class="sig-param">left_interp_func=&lt;function TimeSeries.&lt;lambda&gt;&gt;</em>, <em class="sig-param">right_interp_func=&lt;function TimeSeries.&lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.full_align" title="Permalink to this definition">¶</a></dt>
<dd><p>align two time-series based on a temporal full join strategy and optionally interpolate missing values</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>time_series</strong><span class="classifier"><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></span></dt><dd><p>the time-series to align with</p>
</dd>
<dt><strong>left_interp_func</strong><span class="classifier">func or interpolator, optional</span></dt><dd><p>the left time-series interpolator method to be used when a value doesn’t exist at a given time-tick
(default is fill with None)</p>
</dd>
<dt><strong>right_interp_func</strong><span class="classifier">func or interpolator, optional</span></dt><dd><p>the right time-series interpolator method to be used when a value doesn’t exist at a given time-tick
(default is fill with None)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>tuple</dt><dd><p>aligned time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create two simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span>
<span class="go">TimeStamp: 1     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 3</span>
<span class="go">TimeStamp: 4     Value: 4</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span>
<span class="go">TimeStamp: 2     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 2</span>
<span class="go">TimeStamp: 4     Value: 3</span>
<span class="go">TimeStamp: 5     Value: 4</span>
</pre></div>
</div>
<p>align the two time-series based on a temporal full join strategy</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tspy.functions</span> <span class="kn">import</span> <span class="n">interpolators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span> <span class="o">=</span> <span class="n">orig_left</span><span class="o">.</span><span class="n">full_align</span><span class="p">(</span><span class="n">orig_right</span><span class="p">,</span> <span class="n">interpolators</span><span class="o">.</span><span class="n">prev</span><span class="p">(),</span> <span class="n">interpolators</span><span class="o">.</span><span class="n">next</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">left</span>
<span class="go">TimeStamp: 1     Value: 1</span>
<span class="go">TimeStamp: 2     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 3</span>
<span class="go">TimeStamp: 4     Value: 4</span>
<span class="go">TimeStamp: 5     Value: 4</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">right</span>
<span class="go">TimeStamp: 1     Value: 1</span>
<span class="go">TimeStamp: 2     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 2</span>
<span class="go">TimeStamp: 4     Value: 3</span>
<span class="go">TimeStamp: 5     Value: 4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.full_join">
<code class="sig-name descname">full_join</code><span class="sig-paren">(</span><em class="sig-param">time_series</em>, <em class="sig-param">join_func=None</em>, <em class="sig-param">left_interp_func=&lt;function TimeSeries.&lt;lambda&gt;&gt;</em>, <em class="sig-param">right_interp_func=&lt;function TimeSeries.&lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.full_join" title="Permalink to this definition">¶</a></dt>
<dd><p>join two time-series based on a temporal full join strategy and optionally interpolate missing values</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>time_series</strong><span class="classifier"><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></span></dt><dd><p>the time-series to align with</p>
</dd>
<dt><strong>join_func</strong><span class="classifier">func, optional</span></dt><dd><p>function to join to values (default is join to list where left is index 0, right is index 1)</p>
</dd>
<dt><strong>left_interp_func</strong><span class="classifier">func or interpolator, optional</span></dt><dd><p>the left time-series interpolator method to be used when a value doesn’t exist at a given time-tick
(default is fill with None)</p>
</dd>
<dt><strong>right_interp_func</strong><span class="classifier">func or interpolator, optional</span></dt><dd><p>the right time-series interpolator method to be used when a value doesn’t exist at a given time-tick
(default is fill with None)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></dt><dd><p>a new time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create two simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span>
<span class="go">TimeStamp: 1     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 3</span>
<span class="go">TimeStamp: 4     Value: 4</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span>
<span class="go">TimeStamp: 2     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 2</span>
<span class="go">TimeStamp: 4     Value: 3</span>
<span class="go">TimeStamp: 5     Value: 4</span>
</pre></div>
</div>
<p>join the two time-series based on a temporal full join strategy</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tspy.functions</span> <span class="kn">import</span> <span class="n">interpolators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">orig_left</span><span class="o">.</span><span class="n">full_join</span><span class="p">(</span><span class="n">orig_right</span><span class="p">,</span> <span class="n">interpolator_left</span><span class="o">=</span><span class="n">interpolators</span><span class="o">.</span><span class="n">prev</span><span class="p">(),</span> <span class="n">interpolator_right</span><span class="o">=</span><span class="n">interpolators</span><span class="o">.</span><span class="n">next</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 1     Value: [1, 1]</span>
<span class="go">TimeStamp: 2     Value: [1, 1]</span>
<span class="go">TimeStamp: 3     Value: [3, 2]</span>
<span class="go">TimeStamp: 4     Value: [4, 3]</span>
<span class="go">TimeStamp: 5     Value: [4, 4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.get_values">
<code class="sig-name descname">get_values</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em>, <em class="sig-param"><span class="n">inclusive</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.get_values" title="Permalink to this definition">¶</a></dt>
<dd><p>get all values between a range in this time-series</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>start</strong><span class="classifier">int or datetime</span></dt><dd><p>start of range (inclusive)</p>
</dd>
<dt><strong>end</strong><span class="classifier">int or datetime</span></dt><dd><p>end of range (inclusive)</p>
</dd>
<dt><strong>inclusive</strong><span class="classifier">bool, optional</span></dt><dd><p>if true, will use inclusive bounds (default is False)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="tspy.data_structures.observations.ObservationCollection.html#tspy.data_structures.observations.ObservationCollection.ObservationCollection" title="tspy.data_structures.observations.ObservationCollection.ObservationCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObservationCollection</span></code></a></dt><dd><p>a collection of observations</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>TSErrorWithMessage</dt><dd><p>If there is an error with TimeSeries handling</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span>
<span class="go">TimeStamp: 0     Value: 1</span>
<span class="go">TimeStamp: 1     Value: 2</span>
<span class="go">TimeStamp: 2     Value: 3</span>
</pre></div>
</div>
<p>get values in range start=1, end=3</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">observations</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">get_values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">observations</span>
<span class="go">[(1,2.0),(2,3.0)]</span>
</pre></div>
</div>
<p>get values in a range using slice</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">observations</span> <span class="o">=</span> <span class="n">ts</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">observations</span>
<span class="go">[(1,2.0)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.inner_align">
<code class="sig-name descname">inner_align</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time_series</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.inner_align" title="Permalink to this definition">¶</a></dt>
<dd><p>align two time-series based on a temporal inner join strategy</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>time_series</strong><span class="classifier"><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></span></dt><dd><p>the time-series to align with</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>tuple</dt><dd><p>aligned time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create two simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>        <span class="o">....</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>        <span class="o">....</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>        <span class="o">....</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>        <span class="o">....</span><span class="n">result</span><span class="p">()</span>        <span class="o">....</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>        <span class="o">....</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>        <span class="o">....</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>        <span class="o">....</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>        <span class="o">....</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>        <span class="o">....</span><span class="n">result</span><span class="p">()</span>        <span class="o">....</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span>
<span class="go">TimeStamp: 1     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 3</span>
<span class="go">TimeStamp: 4     Value: 4</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span>
<span class="go">TimeStamp: 2     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 2</span>
<span class="go">TimeStamp: 4     Value: 3</span>
<span class="go">TimeStamp: 5     Value: 4</span>
</pre></div>
</div>
<p>align the two time-series based on a temporal inner join strategy</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="n">inner_align</span><span class="p">(</span><span class="n">right</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">left</span>
<span class="go">TimeStamp: 3     Value: 3</span>
<span class="go">TimeStamp: 4     Value: 4</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">right</span>
<span class="go">TimeStamp: 3     Value: 2</span>
<span class="go">TimeStamp: 4     Value: 3</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.inner_join">
<code class="sig-name descname">inner_join</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time_series</span></em>, <em class="sig-param"><span class="n">join_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.inner_join" title="Permalink to this definition">¶</a></dt>
<dd><p>join two time-series based on a temporal inner join strategy</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>time_series</strong><span class="classifier"><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></span></dt><dd><p>the time-series to join with</p>
</dd>
<dt><strong>join_func</strong><span class="classifier">func, optional</span></dt><dd><p>function to join 2 values at a given time-tick. If None given, joined value will be in a list
(default is None)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></dt><dd><p>a new time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create two simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>        <span class="o">....</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>        <span class="o">....</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>        <span class="o">....</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>        <span class="o">....</span><span class="n">result</span><span class="p">()</span>        <span class="o">....</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>        <span class="o">....</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>        <span class="o">....</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>        <span class="o">....</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>        <span class="o">....</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>        <span class="o">....</span><span class="n">result</span><span class="p">()</span>        <span class="o">....</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span>
<span class="go">TimeStamp: 1     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 3</span>
<span class="go">TimeStamp: 4     Value: 4</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span>
<span class="go">TimeStamp: 2     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 2</span>
<span class="go">TimeStamp: 4     Value: 3</span>
<span class="go">TimeStamp: 5     Value: 4</span>
</pre></div>
</div>
<p>join the two time-series based on a temporal inner join strategy</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">orig_left</span><span class="o">.</span><span class="n">inner_join</span><span class="p">(</span><span class="n">orig_right</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 3     Value: [3, 2]</span>
<span class="go">TimeStamp: 4     Value: [4, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.lag">
<code class="sig-name descname">lag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lag_amount</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.lag" title="Permalink to this definition">¶</a></dt>
<dd><p>produce a new time-series which is a lagged version of the current time-series.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>lag_amount</strong><span class="classifier">int</span></dt><dd><p>number of time-ticks to lag</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></dt><dd><p>a new time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">TimeStamp: 2     Value: 2.0</span>
<span class="go">TimeStamp: 3     Value: 3.0</span>
<span class="go">TimeStamp: 4     Value: 4.0</span>
</pre></div>
</div>
<p>lag the time-series by 2 time-ticks</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">lag</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">TimeStamp: 4     Value: 4.0</span>
<span class="go">TimeStamp: 5     Value: 5.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.left_align">
<code class="sig-name descname">left_align</code><span class="sig-paren">(</span><em class="sig-param">time_series</em>, <em class="sig-param">interp_func=&lt;function TimeSeries.&lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.left_align" title="Permalink to this definition">¶</a></dt>
<dd><p>align two time-series based on a temporal left join strategy and optionally interpolate missing values</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>time_series</strong><span class="classifier"><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></span></dt><dd><p>the time-series to align with</p>
</dd>
<dt><strong>interp_func</strong><span class="classifier">func or interpolator, optional</span></dt><dd><p>the right time-series interpolator method to be used when a value doesn’t exist at a given time-tick
(default is fill with None)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>tuple</dt><dd><p>aligned time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create two simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span>
<span class="go">TimeStamp: 1     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 3</span>
<span class="go">TimeStamp: 4     Value: 4</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span>
<span class="go">TimeStamp: 2     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 2</span>
<span class="go">TimeStamp: 4     Value: 3</span>
<span class="go">TimeStamp: 5     Value: 4</span>
</pre></div>
</div>
<p>align the two time-series based on a temporal left join strategy</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tspy.functions</span> <span class="kn">import</span> <span class="n">interpolators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span> <span class="o">=</span> <span class="n">orig_left</span><span class="o">.</span><span class="n">left_align</span><span class="p">(</span><span class="n">orig_right</span><span class="p">,</span> <span class="n">interpolators</span><span class="o">.</span><span class="n">prev</span><span class="p">(),</span> <span class="n">interpolators</span><span class="o">.</span><span class="n">next</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">left</span>
<span class="go">TimeStamp: 1     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 3</span>
<span class="go">TimeStamp: 4     Value: 4</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">right</span>
<span class="go">TimeStamp: 1     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 2</span>
<span class="go">TimeStamp: 4     Value: 3</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.left_join">
<code class="sig-name descname">left_join</code><span class="sig-paren">(</span><em class="sig-param">time_series</em>, <em class="sig-param">join_func=None</em>, <em class="sig-param">interp_func=&lt;function TimeSeries.&lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.left_join" title="Permalink to this definition">¶</a></dt>
<dd><p>join two time-series based on a temporal left join strategy and optionally interpolate missing values</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>time_series</strong><span class="classifier"><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></span></dt><dd><p>the time-series to align with</p>
</dd>
<dt><strong>join_func</strong><span class="classifier">func, optional</span></dt><dd><p>function to join to values (default is join to list where left is index 0, right is index 1)</p>
</dd>
<dt><strong>interp_func</strong><span class="classifier">func or interpolator, optional</span></dt><dd><p>the right time-series interpolator method to be used when a value doesn’t exist at a given time-tick
(default is fill with None)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></dt><dd><p>a new time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create two simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span>
<span class="go">TimeStamp: 1     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 3</span>
<span class="go">TimeStamp: 4     Value: 4</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span>
<span class="go">TimeStamp: 2     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 2</span>
<span class="go">TimeStamp: 4     Value: 3</span>
<span class="go">TimeStamp: 5     Value: 4</span>
</pre></div>
</div>
<p>join the two time-series based on a temporal left join strategy</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tspy.functions</span> <span class="kn">import</span> <span class="n">interpolators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">orig_left</span><span class="o">.</span><span class="n">left_join</span><span class="p">(</span><span class="n">orig_right</span><span class="p">,</span> <span class="n">inter_func</span><span class="o">=</span><span class="n">interpolators</span><span class="o">.</span><span class="n">next</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 1     Value: [1, 1]</span>
<span class="go">TimeStamp: 3     Value: [3, 2]</span>
<span class="go">TimeStamp: 4     Value: [4, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.left_outer_align">
<code class="sig-name descname">left_outer_align</code><span class="sig-paren">(</span><em class="sig-param">time_series</em>, <em class="sig-param">interp_func=&lt;function TimeSeries.&lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.left_outer_align" title="Permalink to this definition">¶</a></dt>
<dd><p>align two time-series based on a temporal left outer join strategy and optionally interpolate missing values</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>time_series</strong><span class="classifier"><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></span></dt><dd><p>the time-series to align with</p>
</dd>
<dt><strong>interp_func</strong><span class="classifier">func or interpolator, optional</span></dt><dd><p>the right time-series interpolator method to be used when a value doesn’t exist at a given time-tick
(default is fill with None)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>tuple</dt><dd><p>aligned time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create two simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span>
<span class="go">TimeStamp: 1     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 3</span>
<span class="go">TimeStamp: 4     Value: 4</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span>
<span class="go">TimeStamp: 2     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 2</span>
<span class="go">TimeStamp: 4     Value: 3</span>
<span class="go">TimeStamp: 5     Value: 4</span>
</pre></div>
</div>
<p>align the two time-series based on a temporal left outer join strategy</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tspy.functions</span> <span class="kn">import</span> <span class="n">interpolators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span> <span class="o">=</span> <span class="n">orig_left</span><span class="o">.</span><span class="n">left_outer_align</span><span class="p">(</span><span class="n">orig_right</span><span class="p">,</span> <span class="n">interpolators</span><span class="o">.</span><span class="n">next</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">left</span>
<span class="go">TimeStamp: 1     Value: 1</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">right</span>
<span class="go">TimeStamp: 1     Value: 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.left_outer_join">
<code class="sig-name descname">left_outer_join</code><span class="sig-paren">(</span><em class="sig-param">time_series</em>, <em class="sig-param">join_func=None</em>, <em class="sig-param">interp_func=&lt;function TimeSeries.&lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.left_outer_join" title="Permalink to this definition">¶</a></dt>
<dd><p>join two time-series based on a temporal left outer join strategy and optionally interpolate missing values</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>time_series</strong><span class="classifier"><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></span></dt><dd><p>the time-series to align with</p>
</dd>
<dt><strong>join_func</strong><span class="classifier">func, optional</span></dt><dd><p>function to join to values (default is join to list where left is index 0, right is index 1)</p>
</dd>
<dt><strong>interp_func</strong><span class="classifier">func or interpolator, optional</span></dt><dd><p>the right time-series interpolator method to be used when a value doesn’t exist at a given time-tick
(default is fill with None)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></dt><dd><p>a new time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create two simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span>
<span class="go">TimeStamp: 1     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 3</span>
<span class="go">TimeStamp: 4     Value: 4</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span>
<span class="go">TimeStamp: 2     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 2</span>
<span class="go">TimeStamp: 4     Value: 3</span>
<span class="go">TimeStamp: 5     Value: 4</span>
</pre></div>
</div>
<p>join the two time-series based on a temporal left outer join strategy</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tspy.functions</span> <span class="kn">import</span> <span class="n">interpolators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">orig_left</span><span class="o">.</span><span class="n">left_outer_join</span><span class="p">(</span><span class="n">orig_right</span><span class="p">,</span> <span class="n">interp_func</span><span class="o">=</span><span class="n">interpolators</span><span class="o">.</span><span class="n">next</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 1     Value: [1, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.map">
<code class="sig-name descname">map</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.map" title="Permalink to this definition">¶</a></dt>
<dd><p>produce a new time-series where each observation’s value in this time-series is mapped to a new observation value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>func</strong><span class="classifier">func</span></dt><dd><p>value mapping function</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></dt><dd><p>a new time-series with its values re-mapped</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span>
<span class="go">TimeStamp: 0     Value: 1</span>
<span class="go">TimeStamp: 1     Value: 2</span>
<span class="go">TimeStamp: 2     Value: 3</span>
</pre></div>
</div>
<p>add one to each value of the time-series and produce a new time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 0     Value: 2</span>
<span class="go">TimeStamp: 1     Value: 3</span>
<span class="go">TimeStamp: 2     Value: 4</span>
</pre></div>
</div>
<p>map each value of the time-series to a string and produce a new time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot;value - &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 0     Value: value - 1</span>
<span class="go">TimeStamp: 1     Value: value - 2</span>
<span class="go">TimeStamp: 2     Value: value - 3</span>
</pre></div>
</div>
<p>map each value of the time-series to a string using high performant expressions</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tspy.functions</span> <span class="kn">import</span> <span class="n">expressions</span> <span class="k">as</span> <span class="n">exp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">exp</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">exp</span><span class="o">.</span><span class="n">id</span><span class="p">(),</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">TimeStamp: 0     Value: 2.0</span>
<span class="go">TimeStamp: 1     Value: 3.0</span>
<span class="go">TimeStamp: 2     Value: 4.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.map_with_index">
<code class="sig-name descname">map_with_index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.map_with_index" title="Permalink to this definition">¶</a></dt>
<dd><p>produce a new time-series where each observation’s value in this time-series is mapped given the old value
and an index to a new observation value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>func</strong><span class="classifier">func</span></dt><dd><p>value mapping function which includes an index as input</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></dt><dd><p>a new time-series with its values re-mapped</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span>
<span class="go">TimeStamp: 0     Value: 1</span>
<span class="go">TimeStamp: 1     Value: 2</span>
<span class="go">TimeStamp: 2     Value: 3</span>
</pre></div>
</div>
<p>add one to each value of the time-series and produce a new time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">map_with_index</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">index</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 0     Value: 1 - 0</span>
<span class="go">TimeStamp: 1     Value: 2 - 1</span>
<span class="go">TimeStamp: 2     Value: 3 - 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.print">
<code class="sig-name descname">print</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">end</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">inclusive</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">human_readable</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.print" title="Permalink to this definition">¶</a></dt>
<dd><p>print this time-series</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>start</strong><span class="classifier">int or datetime, optional</span></dt><dd><p>start of range (inclusive) (default is current first time-tick)</p>
</dd>
<dt><strong>end</strong><span class="classifier">int or datetime</span></dt><dd><p>end of range (inclusive) (default is current last time-tick)</p>
</dd>
<dt><strong>inclusive</strong><span class="classifier">bool, optional</span></dt><dd><p>if true, will use inclusive bounds (default is False)</p>
</dd>
<dt><strong>human_readable</strong><span class="classifier">bool, optional</span></dt><dd><p>if true, will print time-stamps as human readable if time-series is backed by time-reference-system,
otherwise will print time-ticks</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><dl class="simple">
<dt>ValueError</dt><dd><p>If there is an error in the input arguments, e.g. not a supporting data type</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.reduce">
<code class="sig-name descname">reduce</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.reduce" title="Permalink to this definition">¶</a></dt>
<dd><p>reduce this time-series or two time-series to a single value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>args</strong><span class="classifier">list of arguments</span></dt><dd><p>if one arg given, a unary reducer is used. If two args given, a time-series and binary reducer are used.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>any</dt><dd><p>the output of time-series reduction</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If there is an error in the input arguments, e.g. not a supporting data type</p>
</dd>
<dt>TSErrorWithMessage</dt><dd><p>If there is an error with TimeSeries handling</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span>
<span class="go">TimeStamp: 0     Value: 1</span>
<span class="go">TimeStamp: 1     Value: 2</span>
<span class="go">TimeStamp: 2     Value: 3</span>
</pre></div>
</div>
<p>reduce this time-series to an average</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tspy.functions</span> <span class="kn">import</span> <span class="n">reducers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">avg</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="n">reducers</span><span class="o">.</span><span class="n">average</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">avg</span>
<span class="go">3</span>
</pre></div>
</div>
<p>reduce this time-series and another to a cross-correlation</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tspy.functions</span> <span class="kn">import</span> <span class="n">reducers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">other_ts</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cross_correlation</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="n">other_ts</span><span class="p">,</span> <span class="n">reducers</span><span class="o">.</span><span class="n">cross_correlation</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cross_correlation</span>
<span class="go">[-0.49999999999999994, 4.4408920985006264e-17, 1.0, 4.4408920985006264e-17, -0.49999999999999994]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.resample">
<code class="sig-name descname">resample</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">period</span></em>, <em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>produce a new time-series by resampling the current time-series to a given periodicity</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>period</strong><span class="classifier">int</span></dt><dd><p>the period to resample to</p>
</dd>
<dt><strong>func</strong><span class="classifier">func or interpolator</span></dt><dd><p>the interpolator method to be used when a value doesn’t exist at a given time-tick</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></dt><dd><p>a new time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="go">TimeStamp: 0     Value: 0</span>
<span class="go">TimeStamp: 2     Value: 2</span>
<span class="go">TimeStamp: 4     Value: 4</span>
</pre></div>
</div>
<p>resample to a periodicity of 1 and fill missing time-ticks with 0</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tspy.functions</span> <span class="kn">import</span> <span class="n">interpolators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">interpolators</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">TimeStamp: 0     Value: 0</span>
<span class="go">TimeStamp: 1     Value: 0</span>
<span class="go">TimeStamp: 2     Value: 2</span>
<span class="go">TimeStamp: 3     Value: 0</span>
<span class="go">TimeStamp: 4     Value: 4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.right_align">
<code class="sig-name descname">right_align</code><span class="sig-paren">(</span><em class="sig-param">time_series</em>, <em class="sig-param">interp_func=&lt;function TimeSeries.&lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.right_align" title="Permalink to this definition">¶</a></dt>
<dd><p>align two time-series based on a temporal right join strategy and optionally interpolate missing values</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>time_series</strong><span class="classifier"><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></span></dt><dd><p>the time-series to align with</p>
</dd>
<dt><strong>interp_func</strong><span class="classifier">func or interpolator, optional</span></dt><dd><p>the left time-series interpolator method to be used when a value doesn’t exist at a given time-tick
(default is fill with None)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>tuple</dt><dd><p>aligned time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create two simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span>
<span class="go">TimeStamp: 1     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 3</span>
<span class="go">TimeStamp: 4     Value: 4</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span>
<span class="go">TimeStamp: 2     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 2</span>
<span class="go">TimeStamp: 4     Value: 3</span>
<span class="go">TimeStamp: 5     Value: 4</span>
</pre></div>
</div>
<p>align the two time-series based on a temporal right join strategy</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tspy.functions</span> <span class="kn">import</span> <span class="n">interpolators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span> <span class="o">=</span> <span class="n">orig_left</span><span class="o">.</span><span class="n">right_align</span><span class="p">(</span><span class="n">orig_right</span><span class="p">,</span> <span class="n">interpolators</span><span class="o">.</span><span class="n">prev</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">left</span>
<span class="go">TimeStamp: 2     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 3</span>
<span class="go">TimeStamp: 4     Value: 4</span>
<span class="go">TimeStamp: 5     Value: 4</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">right</span>
<span class="go">TimeStamp: 2     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 2</span>
<span class="go">TimeStamp: 4     Value: 3</span>
<span class="go">TimeStamp: 5     Value: 4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.right_join">
<code class="sig-name descname">right_join</code><span class="sig-paren">(</span><em class="sig-param">time_series</em>, <em class="sig-param">join_func=None</em>, <em class="sig-param">interp_func=&lt;function TimeSeries.&lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.right_join" title="Permalink to this definition">¶</a></dt>
<dd><p>join two time-series based on a temporal right join strategy and optionally interpolate missing values</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>time_series</strong><span class="classifier"><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></span></dt><dd><p>the time-series to align with</p>
</dd>
<dt><strong>join_func</strong><span class="classifier">func, optional</span></dt><dd><p>function to join to values (default is join to list where left is index 0, right is index 1)</p>
</dd>
<dt><strong>interp_func</strong><span class="classifier">func or interpolator, optional</span></dt><dd><p>the left time-series interpolator method to be used when a value doesn’t exist at a given time-tick
(default is fill with None)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></dt><dd><p>a new time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create two simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span>
<span class="go">TimeStamp: 1     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 3</span>
<span class="go">TimeStamp: 4     Value: 4</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span>
<span class="go">TimeStamp: 2     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 2</span>
<span class="go">TimeStamp: 4     Value: 3</span>
<span class="go">TimeStamp: 5     Value: 4</span>
</pre></div>
</div>
<p>join the two time-series based on a temporal right join strategy</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tspy.functions</span> <span class="kn">import</span> <span class="n">interpolators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">orig_left</span><span class="o">.</span><span class="n">right_join</span><span class="p">(</span><span class="n">orig_right</span><span class="p">,</span> <span class="n">interp_func</span><span class="o">=</span><span class="n">interpolators</span><span class="o">.</span><span class="n">prev</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 2     Value: [1, 1]</span>
<span class="go">TimeStamp: 3     Value: [3, 2]</span>
<span class="go">TimeStamp: 4     Value: [4, 3]</span>
<span class="go">TimeStamp: 5     Value: [4, 4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.right_outer_align">
<code class="sig-name descname">right_outer_align</code><span class="sig-paren">(</span><em class="sig-param">time_series</em>, <em class="sig-param">interp_func=&lt;function TimeSeries.&lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.right_outer_align" title="Permalink to this definition">¶</a></dt>
<dd><p>align two time-series based on a temporal right outer join strategy and optionally interpolate missing values</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>time_series</strong><span class="classifier"><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></span></dt><dd><p>the time-series to align with</p>
</dd>
<dt><strong>interp_func</strong><span class="classifier">func or interpolator, optional</span></dt><dd><p>the left time-series interpolator method to be used when a value doesn’t exist at a given time-tick
(default is fill with None)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>tuple</dt><dd><p>aligned time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create two simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span>
<span class="go">TimeStamp: 1     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 3</span>
<span class="go">TimeStamp: 4     Value: 4</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span>
<span class="go">TimeStamp: 2     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 2</span>
<span class="go">TimeStamp: 4     Value: 3</span>
<span class="go">TimeStamp: 5     Value: 4</span>
</pre></div>
</div>
<p>align the two time-series based on a temporal right outer join strategy</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tspy.functions</span> <span class="kn">import</span> <span class="n">interpolators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span> <span class="o">=</span> <span class="n">orig_left</span><span class="o">.</span><span class="n">right_outer_align</span><span class="p">(</span><span class="n">orig_right</span><span class="p">,</span> <span class="n">interpolators</span><span class="o">.</span><span class="n">prev</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">left</span>
<span class="go">TimeStamp: 2     Value: 1</span>
<span class="go">TimeStamp: 5     Value: 4</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">right</span>
<span class="go">TimeStamp: 2     Value: 1</span>
<span class="go">TimeStamp: 5     Value: 4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.right_outer_join">
<code class="sig-name descname">right_outer_join</code><span class="sig-paren">(</span><em class="sig-param">time_series</em>, <em class="sig-param">join_func=None</em>, <em class="sig-param">interp_func=&lt;function TimeSeries.&lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.right_outer_join" title="Permalink to this definition">¶</a></dt>
<dd><p>join two time-series based on a temporal right outer join strategy and optionally interpolate missing values</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>time_series</strong><span class="classifier"><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></span></dt><dd><p>the time-series to align with</p>
</dd>
<dt><strong>join_func</strong><span class="classifier">func, optional</span></dt><dd><p>function to join to values (default is join to list where left is index 0, right is index 1)</p>
</dd>
<dt><strong>interp_func</strong><span class="classifier">func or interpolator, optional</span></dt><dd><p>the left time-series interpolator method to be used when a value doesn’t exist at a given time-tick
(default is fill with None)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></dt><dd><p>a new time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create two simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_left</span>
<span class="go">TimeStamp: 1     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 3</span>
<span class="go">TimeStamp: 4     Value: 4</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">orig_right</span>
<span class="go">TimeStamp: 2     Value: 1</span>
<span class="go">TimeStamp: 3     Value: 2</span>
<span class="go">TimeStamp: 4     Value: 3</span>
<span class="go">TimeStamp: 5     Value: 4</span>
</pre></div>
</div>
<p>join the two time-series based on a temporal right outer join strategy</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tspy.functions</span> <span class="kn">import</span> <span class="n">interpolators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">orig_left</span><span class="o">.</span><span class="n">right_outer_join</span><span class="p">(</span><span class="n">orig_right</span><span class="p">,</span> <span class="n">interp_func</span><span class="o">=</span><span class="n">interpolators</span><span class="o">.</span><span class="n">prev</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 2     Value: [1, 1]</span>
<span class="go">TimeStamp: 5     Value: [4, 4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.segment">
<code class="sig-name descname">segment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">window</span></em>, <em class="sig-param"><span class="n">step</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">enforce_size</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.segment" title="Permalink to this definition">¶</a></dt>
<dd><p>produce a new segment-time-series from a performing a sliding-based segmentation over the time-series</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>window</strong><span class="classifier">int</span></dt><dd><p>number of observations per window</p>
</dd>
<dt><strong>step</strong><span class="classifier">int, optional</span></dt><dd><p>step size to slide (default is 1)</p>
</dd>
<dt><strong>enforce_size</strong><span class="classifier">bool, optional</span></dt><dd><p>if true, will require a window to have the given window size number of observations, otherwise windows can
have less than or equal to the window size number of observations. (default is True)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="tspy.data_structures.time_series.SegmentTimeSeries.html#tspy.data_structures.time_series.SegmentTimeSeries.SegmentTimeSeries" title="tspy.data_structures.time_series.SegmentTimeSeries.SegmentTimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">SegmentTimeSeries</span></code></a></dt><dd><p>a new segment-time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span>
<span class="go">TimeStamp: 0     Value: 1.0</span>
<span class="go">TimeStamp: 1     Value: 2.0</span>
<span class="go">TimeStamp: 2     Value: 3.0</span>
<span class="go">TimeStamp: 3     Value: 4.0</span>
<span class="go">TimeStamp: 4     Value: 5.0</span>
</pre></div>
</div>
<p>segment the time-series with a window=3, step=2</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">segment</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">TimeStamp: 0     Value: original bounds: (0,2) actual bounds: (0,2) observations: [(0,1.0),(1,2.0),(2,3.0)]</span>
<span class="go">TimeStamp: 2     Value: original bounds: (2,4) actual bounds: (2,4) observations: [(2,3.0),(3,4.0),(4,5.0)]</span>
</pre></div>
</div>
<p>segment the time-series with a window=3, step=2, enforce_size=False</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">segment</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">enforce_size</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">TimeStamp: 0     Value: original bounds: (0,2) actual bounds: (0,2) observations: [(0,1.0),(1,2.0),(2,3.0)]</span>
<span class="go">TimeStamp: 2     Value: original bounds: (2,4) actual bounds: (2,4) observations: [(2,3.0),(3,4.0),(4,5.0)]</span>
<span class="go">TimeStamp: 4     Value: original bounds: (4,4) actual bounds: (4,4) observations: [(4,5.0)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.segment_by">
<code class="sig-name descname">segment_by</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.segment_by" title="Permalink to this definition">¶</a></dt>
<dd><p>produce a new segment-time-series from a performing a group-by operation on each observation’s value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>func</strong><span class="classifier">func</span></dt><dd><p>value to key function</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="tspy.data_structures.time_series.SegmentTimeSeries.html#tspy.data_structures.time_series.SegmentTimeSeries.SegmentTimeSeries" title="tspy.data_structures.time_series.SegmentTimeSeries.SegmentTimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">SegmentTimeSeries</span></code></a></dt><dd><p>a new segment-time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span>
<span class="go">TimeStamp: 0     Value: 1.0</span>
<span class="go">TimeStamp: 1     Value: 2.0</span>
<span class="go">TimeStamp: 2     Value: 3.0</span>
<span class="go">TimeStamp: 3     Value: 4.0</span>
<span class="go">TimeStamp: 4     Value: 5.0</span>
</pre></div>
</div>
<p>segment the time-series by even/odd numbers</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">segment_by</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 0     Value: original bounds: (0,4) actual bounds: (0,4) observations: [(0,1.0),(2,3.0),(4,5.0)]</span>
<span class="go">TimeStamp: 1     Value: original bounds: (1,3) actual bounds: (1,3) observations: [(1,2.0),(3,4.0)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.segment_by_anchor">
<code class="sig-name descname">segment_by_anchor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em>, <em class="sig-param"><span class="n">left_delta</span></em>, <em class="sig-param"><span class="n">right_delta</span></em>, <em class="sig-param"><span class="n">perc</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.segment_by_anchor" title="Permalink to this definition">¶</a></dt>
<dd><p>produce a new segment-time-series from performing an anchor-based segmentation over the time-series. An
anchor point is defined as any value that satisfies the filter function. When an anchor point is determined the
segment is built based on left_delta time ticks to the left of the point and right_delta time ticks to the
right of the point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>func</strong><span class="classifier">func</span></dt><dd><p>the filter anchor point function</p>
</dd>
<dt><strong>left_delta</strong><span class="classifier">int</span></dt><dd><p>left delta time ticks to the left of the anchor point</p>
</dd>
<dt><strong>right_delta</strong><span class="classifier">int</span></dt><dd><p>right delta time ticks to the right of the anchor point</p>
</dd>
<dt><strong>perc</strong><span class="classifier">int, optional</span></dt><dd><p>number between 0 and 1.0 to denote how often to accept the anchor (default is None)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="tspy.data_structures.time_series.SegmentTimeSeries.html#tspy.data_structures.time_series.SegmentTimeSeries.SegmentTimeSeries" title="tspy.data_structures.time_series.SegmentTimeSeries.SegmentTimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">SegmentTimeSeries</span></code></a></dt><dd><p>a new segment-time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span>
<span class="go">TimeStamp: 0     Value: 1.0</span>
<span class="go">TimeStamp: 1     Value: 2.0</span>
<span class="go">TimeStamp: 2     Value: 3.0</span>
<span class="go">TimeStamp: 3     Value: 4.0</span>
<span class="go">TimeStamp: 4     Value: 5.0</span>
</pre></div>
</div>
<p>segment the time-series by anchor points (even numbers)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">segment_by_anchor</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 1     Value: original bounds: (0,3) actual bounds: (0,3) observations: [(0,1.0),(1,2.0),(2,3.0),(3,4.0)]</span>
<span class="go">TimeStamp: 3     Value: original bounds: (2,5) actual bounds: (2,4) observations: [(2,3.0),(3,4.0),(4,5.0)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.segment_by_changepoint">
<code class="sig-name descname">segment_by_changepoint</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">change_point</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.segment_by_changepoint" title="Permalink to this definition">¶</a></dt>
<dd><p>produce a new segment-time-series from performing a chang-point based segmentation. A change-point can be
defined as any change in 2 values that results in a true statement.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>change_point</strong><span class="classifier">func, optional</span></dt><dd><p>a function given a prev/next value to determine if a change exists (default is simple constant change)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="tspy.data_structures.time_series.SegmentTimeSeries.html#tspy.data_structures.time_series.SegmentTimeSeries.SegmentTimeSeries" title="tspy.data_structures.time_series.SegmentTimeSeries.SegmentTimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">SegmentTimeSeries</span></code></a></dt><dd><p>a new segment-time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span>
<span class="go">TimeStamp: 0     Value: 1.0</span>
<span class="go">TimeStamp: 1     Value: 2.0</span>
<span class="go">TimeStamp: 2     Value: 4.0</span>
<span class="go">TimeStamp: 3     Value: 5.0</span>
<span class="go">TimeStamp: 4     Value: 6.0</span>
</pre></div>
</div>
<p>segment by a change point where the change point is defined as a greater than 1.0 difference between prev/next
values</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">segment_by_changepoint</span><span class="p">(</span><span class="k">lambda</span> <span class="n">p</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">abs</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="n">p</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 0     Value: original bounds: (0,1) actual bounds: (0,1) observations: [(0,1.0),(1,2.0)]</span>
<span class="go">TimeStamp: 2     Value: original bounds: (2,4) actual bounds: (2,4) observations: [(2,4.0),(3,5.0),(4,6.0)]</span>
</pre></div>
</div>
<p>create a simple time-series of strings</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="s2">&quot;c&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span>
<span class="go">TimeStamp: 0     Value: a</span>
<span class="go">TimeStamp: 1     Value: a</span>
<span class="go">TimeStamp: 2     Value: a</span>
<span class="go">TimeStamp: 3     Value: b</span>
<span class="go">TimeStamp: 4     Value: b</span>
<span class="go">TimeStamp: 5     Value: c</span>
</pre></div>
</div>
<p>segment by a simple constant based change point</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">segment_by_changepoint</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 0     Value: original bounds: (0,2) actual bounds: (0,2) observations: [(0,a),(1,a),(2,a)]</span>
<span class="go">TimeStamp: 3     Value: original bounds: (3,4) actual bounds: (3,4) observations: [(3,b),(4,b)]</span>
<span class="go">TimeStamp: 5     Value: original bounds: (5,5) actual bounds: (5,5) observations: [(5,c)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.segment_by_marker">
<code class="sig-name descname">segment_by_marker</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.segment_by_marker" title="Permalink to this definition">¶</a></dt>
<dd><p>produce a new segment-time-series from performing a marker based segmentation. A marker is defined as any
value that satisfies a marker function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>start_marker</strong><span class="classifier">func</span></dt><dd><p>the marker that denotes the start of a segment in the case of two-marker segments (requires end_marker)</p>
</dd>
<dt><strong>end_marker</strong><span class="classifier">func</span></dt><dd><p>the marker that denotes the end of a segment in the case of two-marker segments (requires start_marker)</p>
</dd>
<dt><strong>marker</strong><span class="classifier">func</span></dt><dd><p>the marker that denotes the end of a segment and the beginning of a new segment in the case of single-marker segments</p>
</dd>
<dt><strong>start_inclusive</strong><span class="classifier">bool, optional</span></dt><dd><p>if true, will include the start marker to the segment (default is True)</p>
</dd>
<dt><strong>end_inclusive</strong><span class="classifier">bool, optional</span></dt><dd><p>if true, will include the end marker to the segment (default is True)</p>
</dd>
<dt><strong>start_on_first</strong><span class="classifier">bool, optional</span></dt><dd><p>if true, will start the segment on the first instance of the start marker before an end marker when using
two-marker segments (default is False)</p>
</dd>
<dt><strong>end_on_first</strong><span class="classifier">bool</span></dt><dd><p>if true, will end the segment on the first instance of the end marker after a start marker when using
two-marker segments (default is True)</p>
</dd>
<dt><strong>requires_start_and_end</strong><span class="classifier">bool</span></dt><dd><p>if true, a segment will only be created if encapsulated by 2 markers when using single-marker segments
(default is False)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="tspy.data_structures.time_series.SegmentTimeSeries.html#tspy.data_structures.time_series.SegmentTimeSeries.SegmentTimeSeries" title="tspy.data_structures.time_series.SegmentTimeSeries.SegmentTimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">SegmentTimeSeries</span></code></a></dt><dd><p>a new segment-time-series</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If there is an error in the input arguments</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span>
<span class="go">TimeStamp: 0     Value: 0.0</span>
<span class="go">TimeStamp: 1     Value: 1.0</span>
<span class="go">TimeStamp: 2     Value: 2.0</span>
<span class="go">TimeStamp: 3     Value: 3.0</span>
<span class="go">TimeStamp: 4     Value: 4.0</span>
<span class="go">TimeStamp: 5     Value: 5.0</span>
</pre></div>
</div>
<p>segment by an even number marker where start_inclusive=True and end_inclusive=False</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">segment_by_marker</span><span class="p">(</span><span class="n">marker</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">start_inclusive</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">end_inclusive</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 0     Value: original bounds: (0,0) actual bounds: (0,0) observations: [(0,0.0)]</span>
<span class="go">TimeStamp: 1     Value: original bounds: (1,2) actual bounds: (1,2) observations: [(1,1.0),(2,2.0)]</span>
<span class="go">TimeStamp: 3     Value: original bounds: (3,4) actual bounds: (3,4) observations: [(3,3.0),(4,4.0)]</span>
<span class="go">TimeStamp: 5     Value: original bounds: (5,5) actual bounds: (5,5) observations: [(5,5.0)]</span>
</pre></div>
</div>
<p>segment by start_marker = even number and not 4, end_marker = divisible by 5 and not 0,
start_inculsive = end_inclusive = True, start_on_first = False, end_on_first = True</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">start_marker</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">x</span> <span class="o">!=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_marker</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">x</span> <span class="o">!=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">segment_by_marker</span><span class="p">(</span><span class="n">start_marker</span><span class="o">=</span><span class="n">start_marker</span><span class="p">,</span> <span class="n">end_marker</span><span class="o">=</span><span class="n">end_marker</span><span class="p">,</span> <span class="n">start_inclusive</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">end_inclusive</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">start_on_first</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">end_on_first</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 2     Value: original bounds: (2,5) actual bounds: (2,5) observations: [(2,2.0),(3,3.0),(4,4.0),(5,5.0)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.segment_by_time">
<code class="sig-name descname">segment_by_time</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">window</span></em>, <em class="sig-param"><span class="n">step</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.segment_by_time" title="Permalink to this definition">¶</a></dt>
<dd><p>produce a new segment-time-series from a performing a time-based segmentation over the time-series</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>window</strong><span class="classifier">int</span></dt><dd><p>time-tick length of window</p>
</dd>
<dt><strong>step</strong><span class="classifier">int</span></dt><dd><p>time-tick length of step</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="tspy.data_structures.time_series.SegmentTimeSeries.html#tspy.data_structures.time_series.SegmentTimeSeries.SegmentTimeSeries" title="tspy.data_structures.time_series.SegmentTimeSeries.SegmentTimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">SegmentTimeSeries</span></code></a></dt><dd><p>a new segment-time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">builder</span><span class="p">()</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mf">2.0</span><span class="p">))</span>            <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tspy</span><span class="o">.</span><span class="n">observation</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mf">6.0</span><span class="p">))</span>            <span class="o">.</span><span class="n">result</span><span class="p">()</span>            <span class="o">.</span><span class="n">to_time_series</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span>
<span class="go">TimeStamp: 1     Value: 1.0</span>
<span class="go">TimeStamp: 2     Value: 2.0</span>
<span class="go">TimeStamp: 6     Value: 6.0</span>
</pre></div>
</div>
<p>segment the time-series with a time-window length of 3 and a time-step length of 1</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">segment_by_time</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 1     Value: original bounds: (1,3) actual bounds: (1,2) observations: [(1,1.0),(2,2.0)]</span>
<span class="go">TimeStamp: 2     Value: original bounds: (2,4) actual bounds: (2,2) observations: [(2,2.0)]</span>
<span class="go">TimeStamp: 3     Value: this segment is empty</span>
<span class="go">TimeStamp: 4     Value: original bounds: (4,6) actual bounds: (6,6) observations: [(6,6.0)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.shift">
<code class="sig-name descname">shift</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shift_amount</span></em>, <em class="sig-param"><span class="n">default_value</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.shift" title="Permalink to this definition">¶</a></dt>
<dd><p>produce a new time-series which is a shifted version of the current time-series.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>shift_amount</strong><span class="classifier">int</span></dt><dd><p>number of records to shift</p>
</dd>
<dt><strong>default_value</strong><span class="classifier">any, optional</span></dt><dd><p>default value to set for padded observations (default is None)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></dt><dd><p>a new time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Any extra <cite>~tspy.data_structures.Observation.Observation</cite> will be padded with the given default value</p>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ts_orig</span><span class="p">)</span>
<span class="go">TimeStamp: 0     Value: 0.0</span>
<span class="go">TimeStamp: 1     Value: 1.0</span>
<span class="go">TimeStamp: 2     Value: 2.0</span>
<span class="go">TimeStamp: 3     Value: 3.0</span>
<span class="go">TimeStamp: 4     Value: 4.0</span>
<span class="go">TimeStamp: 5     Value: 5.0</span>
</pre></div>
</div>
<p>shift the time-series by 2 records filling padded Observations with -1.0</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 0     Value: -1.0</span>
<span class="go">TimeStamp: 1     Value: -1.0</span>
<span class="go">TimeStamp: 2     Value: 0.0</span>
<span class="go">TimeStamp: 3     Value: 1.0</span>
<span class="go">TimeStamp: 4     Value: 2.0</span>
<span class="go">TimeStamp: 5     Value: 3.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.to_df">
<code class="sig-name descname">to_df</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inclusive</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.to_df" title="Permalink to this definition">¶</a></dt>
<dd><p>convert this time-series to a pandas dataframe</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>inclusive</strong><span class="classifier">bool, optional</span></dt><dd><p>if true, will use inclusive bounds (default is False)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>dataframe</dt><dd><p>a pandas dataframe representation of this time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span>
<span class="go">TimeStamp: 0     Value: 1</span>
<span class="go">TimeStamp: 1     Value: 2</span>
<span class="go">TimeStamp: 2     Value: 3</span>
</pre></div>
</div>
<p>convert time-series to pandas dataframe</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">to_df</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   timestamp  value</span>
<span class="go">0          0      1</span>
<span class="go">1          1      2</span>
<span class="go">2          2      3</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.to_segments">
<code class="sig-name descname">to_segments</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">segment_transform</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.to_segments" title="Permalink to this definition">¶</a></dt>
<dd><p>produce a new segment-time-series from a segmentation transform</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>segment_transform</strong><span class="classifier">UnaryTransform</span></dt><dd><p>the transform which will result in a time-series of segments</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="tspy.data_structures.time_series.SegmentTimeSeries.html#tspy.data_structures.time_series.SegmentTimeSeries.SegmentTimeSeries" title="tspy.data_structures.time_series.SegmentTimeSeries.SegmentTimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">SegmentTimeSeries</span></code></a></dt><dd><p>a new segment-time-series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span>
<span class="go">TimeStamp: 0     Value: 1.0</span>
<span class="go">TimeStamp: 1     Value: 2.0</span>
<span class="go">TimeStamp: 2     Value: 3.0</span>
<span class="go">TimeStamp: 3     Value: 2.0</span>
<span class="go">TimeStamp: 4     Value: 1.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tspy.functions</span> <span class="kn">import</span> <span class="n">segmenters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reg_ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">to_segments</span><span class="p">(</span><span class="n">segmenters</span><span class="o">.</span><span class="n">regression</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">use_relative</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">TimeStamp: 0     Value: --range: (0, 2) --outliers: {}</span>
<span class="go">TimeStamp: 3     Value: --range: (3, 4) --outliers: {}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>produce a new time-series which is the result of performing a transforming over the time-series. A transform
can be of type unary (one time-series in, one time-series out) or binary (two time-series in, one time-series
out)</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>args</strong><span class="classifier"><a class="reference internal" href="tspy.data_structures.transforms.UnaryTransform.html#tspy.data_structures.transforms.UnaryTransform.UnaryTransform" title="tspy.data_structures.transforms.UnaryTransform.UnaryTransform"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnaryTransform</span></code></a> or <a class="reference internal" href="tspy.data_structures.transforms.BinaryTransform.html#tspy.data_structures.transforms.BinaryTransform.BinaryTransform" title="tspy.data_structures.transforms.BinaryTransform.BinaryTransform"><code class="xref py py-class docutils literal notranslate"><span class="pre">BinaryTransform</span></code></a></span></dt><dd><p>the transformation to apply on this time-series</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></dt><dd><p>a new time-series</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If there is an error in the input arguments.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>transforms can be shape changing (time-series size out does not necessarily equal time-series size in)</p>
<p class="rubric">Examples</p>
<p>create a simple time-series</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span>
<span class="go">TimeStamp: 0     Value: 1.0</span>
<span class="go">TimeStamp: 1     Value: 2.0</span>
<span class="go">TimeStamp: 2     Value: 3.0</span>
</pre></div>
</div>
<p>perform a simple difference transform</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tspy.functions</span> <span class="kn">import</span> <span class="n">transformers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">transformers</span><span class="o">.</span><span class="n">difference</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 1     Value: 1.0</span>
<span class="go">TimeStamp: 2     Value: 1.0</span>
</pre></div>
</div>
<p>perform a binary correlation over a sliding window</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts1</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">)])</span><span class="o">.</span><span class="n">segment</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts1</span>
<span class="go">TimeStamp: 0     Value: original bounds: (0,3) actual bounds: (0,3) observations: [(0,0.0),(1,1.0),(2,2.0),(3,3.0)]</span>
<span class="go">TimeStamp: 1     Value: original bounds: (1,4) actual bounds: (1,4) observations: [(1,1.0),(2,2.0),(3,3.0),(4,4.0)]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts2</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="mi">5</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">)])</span><span class="o">.</span><span class="n">segment</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts2</span>
<span class="go">TimeStamp: 0     Value: original bounds: (0,3) actual bounds: (0,3) observations: [(0,5.0),(1,4.0),(2,3.0),(3,2.0)]</span>
<span class="go">TimeStamp: 1     Value: original bounds: (1,4) actual bounds: (1,4) observations: [(1,4.0),(2,3.0),(3,2.0),(4,1.0)]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tspy.functions</span> <span class="kn">import</span> <span class="n">reducers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_corr_windows</span> <span class="o">=</span> <span class="n">ts1</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">ts2</span><span class="p">,</span> <span class="n">reducers</span><span class="o">.</span><span class="n">correlation</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_corr_windows</span>
<span class="go">TimeStamp: 0     Value: -1.0</span>
<span class="go">TimeStamp: 1     Value: -1.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.trs">
<em class="property">property </em><code class="sig-name descname">trs</code><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.trs" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl>
<dt><strong>TRS</strong><span class="classifier"><a class="reference internal" href="tspy.data_structures.observations.TRS.html#tspy.data_structures.observations.TRS.TRS" title="tspy.data_structures.observations.TRS.TRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">TRS</span></code></a></span></dt><dd><p>this time-series time-reference-system</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.uncache">
<code class="sig-name descname">uncache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.uncache" title="Permalink to this definition">¶</a></dt>
<dd><p>remove the time-series caching mechanism</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></dt><dd><p>a new time-series</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.with_trs">
<code class="sig-name descname">with_trs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">granularity</span><span class="o">=</span><span class="default_value">datetime.timedelta(0, 0, 1000)</span></em>, <em class="sig-param"><span class="n">start_time</span><span class="o">=</span><span class="default_value">datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.with_trs" title="Permalink to this definition">¶</a></dt>
<dd><p>create a new time-series with its timestamps mapped based on a granularity and start_time. In the
scope of this method, granularity refers to the granularity at which to see time_ticks and start_time refers to
the zone-date-time in which to start your time-series data when calling
<code class="xref py py-func docutils literal notranslate"><span class="pre">get_values()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>granularity</strong><span class="classifier">datetime.timedelta, optional</span></dt><dd><p>the granularity for use in time-series <a class="reference internal" href="tspy.data_structures.observations.TRS.html#tspy.data_structures.observations.TRS.TRS" title="tspy.data_structures.observations.TRS.TRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">TRS</span></code></a> (default is 1ms)</p>
</dd>
<dt><strong>start_time</strong><span class="classifier">datetime, optional</span></dt><dd><p>the starting date-time of the time-series (default is 1970-01-01 UTC)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries" title="tspy.data_structures.time_series.TimeSeries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a></dt><dd><p>a new time-series with its time_ticks mapped based on a new <a class="reference internal" href="tspy.data_structures.observations.TRS.html#tspy.data_structures.observations.TRS.TRS" title="tspy.data_structures.observations.TRS.TRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">TRS</span></code></a></p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>time_ticks will be mapped as follows - (current_time_tick - start_time) / granularity</p>
<p>if the source time-series does not have a time-reference-system associated with it, this method will
throw and exception</p>
<p class="rubric">Examples</p>
<p>create a time series with a time-reference-system</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">start_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1990</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">granularity</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span> <span class="o">=</span> <span class="n">tspy</span><span class="o">.</span><span class="n">time_series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="n">granularity</span><span class="o">=</span><span class="n">granularity</span><span class="p">,</span> <span class="n">start_time</span><span class="o">=</span><span class="n">start_time</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_orig</span>
<span class="go">TimeStamp: 1990-01-01T00:00Z     Value: 1</span>
<span class="go">TimeStamp: 1990-01-02T00:00Z     Value: 2</span>
<span class="go">TimeStamp: 1990-01-03T00:00Z     Value: 3</span>
<span class="go">TimeStamp: 1990-01-04T00:00Z     Value: 4</span>
<span class="go">TimeStamp: 1990-01-05T00:00Z     Value: 5</span>
</pre></div>
</div>
<p>re-map this time-series time-reference-system to a new time-reference-system changing only granularity</p>
<p>note: because we never set a new start_time, the start_time will default to the epoch start time of 1970-01-01</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">with_trs</span><span class="p">(</span><span class="n">granularity</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">7</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 1989-12-28T00:00Z[UTC]     Value: 1</span>
<span class="go">TimeStamp: 1989-12-28T00:00Z[UTC]     Value: 2</span>
<span class="go">TimeStamp: 1989-12-28T00:00Z[UTC]     Value: 3</span>
<span class="go">TimeStamp: 1990-01-04T00:00Z[UTC]     Value: 4</span>
<span class="go">TimeStamp: 1990-01-04T00:00Z[UTC]     Value: 5</span>
</pre></div>
</div>
<p>re-map this time-series time-reference-system to a new time-reference-system changing both start_time and
granularity</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">granularity</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">start_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1990</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">ts_orig</span><span class="o">.</span><span class="n">with_trs</span><span class="p">(</span><span class="n">granularity</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">7</span><span class="p">),</span> <span class="n">start_time</span><span class="o">=</span><span class="n">start_time</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span>
<span class="go">TimeStamp: 1990-01-01T00:00Z     Value: 1</span>
<span class="go">TimeStamp: 1990-01-01T00:00Z     Value: 2</span>
<span class="go">TimeStamp: 1990-01-01T00:00Z     Value: 3</span>
<span class="go">TimeStamp: 1990-01-01T00:00Z     Value: 4</span>
<span class="go">TimeStamp: 1990-01-01T00:00Z     Value: 5</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tspy.data_structures.time_series.TimeSeries.TimeSeries.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">end</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">inclusive</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tspy.data_structures.time_series.TimeSeries.TimeSeries.write" title="Permalink to this definition">¶</a></dt>
<dd><p>create a time-series-writer given a range</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>start</strong><span class="classifier">int or datetime, optional</span></dt><dd><p>start of range (inclusive) (default is None)</p>
</dd>
<dt><strong>end</strong><span class="classifier">int or datetime, optional</span></dt><dd><p>end of range (inclusive) (default is None)</p>
</dd>
<dt><strong>inclusive</strong><span class="classifier">bool, optional</span></dt><dd><p>if true, will use inclusive bounds (default is False)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="tspy.data_structures.io.TimeSeriesWriter.html#tspy.data_structures.io.TimeSeriesWriter.TimeSeriesWriter" title="tspy.data_structures.io.TimeSeriesWriter.TimeSeriesWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeriesWriter</span></code></a></dt><dd><p>a new time-series-writer</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tspy.data_structures.transforms.html" class="btn btn-neutral float-right" title="tspy.data_structures.transforms package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tspy.data_structures.time_series.SegmentTimeSeries.html" class="btn btn-neutral float-left" title="tspy.data_structures.time_series.SegmentTimeSeries module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, IBM Research

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>